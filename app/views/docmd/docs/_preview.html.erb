<%= turbo_frame_tag "doc_preview" do %>
  <div class="bg-white shadow rounded-lg min-h-[600px]">
    <div class="px-6 py-4 border-b border-gray-200 border-gray-200">
      <div>
        <h1 class="text-3xl font-bold text-gray-900"><%= doc.title || "無標題" %></h1>
        <div class="mt-2 flex items-center space-x-4 text-sm text-gray-600">
          <span>更新時間：<%= doc.date&.strftime('%Y-%m-%d %H:%M') || Time.current.strftime('%Y-%m-%d %H:%M') %></span>
          <% if doc.published? %>
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
              已發布
            </span>
          <% else %>
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">
              草稿
            </span>
          <% end %>
        </div>
        <% if doc.tags.present? && doc.tags.any? %>
          <div class="mt-2">
            <% doc.tags.each do |tag| %>
              <span class="inline-flex items-center px-2.5 py-1 rounded-md text-sm font-medium bg-blue-100 text-blue-800 mr-2">
                <%= tag %>
              </span>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="px-6 py-8">
      <article class="markdown-content">
        <%= raw html_content %>
      </article>
    </div>
  </div>
<% end %>